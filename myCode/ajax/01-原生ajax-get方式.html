<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button>点击</button>
<script>
    let btn = document.querySelector("button");
	
    btn.onclick = function () {
        // 1. 创建异步对象
        let xhr = new XMLHttpRequest();

        // 2. 连接
        xhr.open("GET", "./1.txt", true);

        // 3. 发送
        xhr.send();

        // 4. 监听事件
        /*
        readyState
        0 (未初始化)： (XMLHttpRequest)对象已经创建，但还没有调用open()方法。
        1 (载入)：已经调用open() 方法，但尚未发送请求。
        2 (载入完成)： 请求已经发送完成。
        3 (交互)：可以接收到部分响应数据。
        4 (完成)：已经接收到了全部数据，并且连接已经关闭。
         */
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                if (xhr.status >=200 && xhr.status < 300 || xhr.status === 304) {
                    alert(`成功${xhr.responseText}`);
                } else {
                    alert("失败");
                }
            }
        }
	
    };
</script>
</body>
</html>
